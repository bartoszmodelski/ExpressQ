<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
    <constant name="struts.enable.DynamicMethodInvocation" value="false"/>
    <constant name="struts.devMode" value="true"/>

    <!--<include file="example.xml"/>-->

    <package name="default" namespace="/" extends="struts-default">
		
		<interceptors>
			<interceptor class="com.delta.expressq.example.LoginInterceptor" name="loginInterceptor">
			</interceptor>
			<interceptor-stack name="loginStack">
				<interceptor-ref name="loginInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>
		
		<global-results>
			<result name="login">login.jsp</result>
		</global-results>
		
		<action name="login">
			<result>login.jsp</result>
		</action>

		<action name="registration">
			<result>registration.jsp</result>
		</action>

    <action name="reg" class ="com.delta.expressq.example.Registration">
			<result name="success">login.jsp</result>
			<result name="failure">failure.jsp</result>
			<result name="existed">exists.jsp</result>
		</action>

		<!-- login action -->
		<action name="loginUser" class="com.delta.expressq.example.LoginAction" method="login">
			<result name="success" type="redirect">homeAction.action</result>
			<result name="login">login.jsp</result>
		</action>

		<!-- home link action, change to website front page perhaps? -->
		<action name="homeAction" class="com.delta.expressq.example.LoginAction" method="home">
			<interceptor-ref name="loginStack" />
			<result name="success">home.jsp</result>
		</action>
		
		<!-- logout action -->
		<action name="logout" class="com.delta.expressq.example.LoginAction" method="logout">
			<result name="success">login.jsp</result>
		</action>
		
    </package>

    <!-- Add addition packages and configuration here. -->
</struts>
